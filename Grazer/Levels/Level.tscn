[gd_scene load_steps=49 format=3 uid="uid://cclwr76l2moqf"]

[ext_resource type="PackedScene" uid="uid://bw8vk16r3ew0" path="res://Prefabs/broadcast.tscn" id="1_33qyj"]
[ext_resource type="Script" path="res://Scripts/LevelScript.gd" id="1_ilocr"]
[ext_resource type="PackedScene" uid="uid://d371hc6ubydla" path="res://Prefabs/Camera.tscn" id="2"]
[ext_resource type="PackedScene" uid="uid://dtfmrm20ruq5u" path="res://Prefabs/FPSCounter.tscn" id="2_c6l00"]
[ext_resource type="PackedScene" uid="uid://gg5n65wh44oy" path="res://Prefabs/HealthPulse.tscn" id="2_y7tso"]
[ext_resource type="PackedScene" uid="uid://cldod6x8jvoco" path="res://Prefabs/HealthCounter.tscn" id="3_8ivn4"]
[ext_resource type="Script" path="res://Scripts/CopiedChunkSystem/terrainController.gd" id="4"]
[ext_resource type="Texture2D" uid="uid://bxyxkq7a5m6fw" path="res://Assets/Images/cowCounter.png" id="6_mmeut"]
[ext_resource type="PackedScene" uid="uid://j7n7xxkhx3oe" path="res://Prefabs/DirectionalLight.tscn" id="8_kp882"]
[ext_resource type="PackedScene" uid="uid://ct5gqti8xgjyy" path="res://Prefabs/Player.tscn" id="9"]
[ext_resource type="PackedScene" uid="uid://bxmokm0w5pjrq" path="res://Prefabs/fog_volume.tscn" id="11_1gwt8"]
[ext_resource type="PackedScene" uid="uid://cpwcq3fdlqicu" path="res://Prefabs/CowCounter.tscn" id="12"]
[ext_resource type="PackedScene" uid="uid://bc22uux0dxytn" path="res://Prefabs/MainUI.tscn" id="12_3pmhn"]
[ext_resource type="PackedScene" uid="uid://b47wmr6w6oykr" path="res://Prefabs/ItemWheelUI.tscn" id="13_1ubf2"]
[ext_resource type="PackedScene" uid="uid://8v4p26gkfffe" path="res://Prefabs/PauseMenuUI.tscn" id="16_6i4tb"]
[ext_resource type="Environment" uid="uid://5rhjn7giur73" path="res://default_env.tres" id="16_leqkn"]
[ext_resource type="FontFile" uid="uid://claanka6fj8mt" path="res://Assets/Font/Bronco Valley/OpenType-TT/Bronco.ttf" id="18_a0jb1"]
[ext_resource type="Texture2D" uid="uid://0ham40sftave" path="res://Assets/Images/NewUI/Asset_25.png" id="19_qyj2t"]
[ext_resource type="FontFile" uid="uid://nabevsfcidt2" path="res://Assets/Font/DINCondensed-Bold.ttf" id="19_u5bqv"]
[ext_resource type="Texture2D" uid="uid://b6rj3oryih1lm" path="res://Assets/Images/NewUI/Asset_49.png" id="20_1eh4x"]
[ext_resource type="PackedScene" uid="uid://dcspo5f48r7j0" path="res://Prefabs/ElixirGunMenu.tscn" id="20_bkmh5"]
[ext_resource type="Texture2D" uid="uid://v8aklukrmm5a" path="res://Assets/Images/NewUI/Asset_22.png" id="20_r434f"]
[ext_resource type="Texture2D" uid="uid://170a46wq3c72" path="res://Assets/Images/NewUI/Asset_26.png" id="21_0kux6"]
[ext_resource type="Texture2D" uid="uid://bgkgyixrdi7u7" path="res://Assets/Images/NewUI/Asset_24.png" id="21_tsuee"]
[ext_resource type="Texture2D" uid="uid://dxwuux8ks7kqy" path="res://Assets/Images/NewUI/Asset_23.png" id="22_usm5n"]
[ext_resource type="Script" path="res://Scripts/DeathMenu.gd" id="23_5p5jq"]
[ext_resource type="Texture2D" uid="uid://bhbsd8as36kkx" path="res://Assets/Images/NewUI/Asset_14.png" id="23_arub7"]
[ext_resource type="AudioStream" uid="uid://crtrdbfpgkmwl" path="res://sounds/Music/WildsMusic.wav" id="24_eux13"]
[ext_resource type="Texture2D" uid="uid://bcu284ntms1df" path="res://Assets/Images/NewUI/Asset_16.png" id="24_jcypd"]
[ext_resource type="Script" path="res://Scripts/WinMenu.gd" id="24_q0sdl"]
[ext_resource type="AudioStream" uid="uid://ctinn75mya67b" path="res://sounds/New Sound FEX/Ambiance/outsidedesert.wav" id="25_0aix7"]
[ext_resource type="Texture2D" uid="uid://dxmmt5ahakn2r" path="res://Assets/Images/NewUI/Asset_15.png" id="25_cirx0"]
[ext_resource type="Script" path="res://Scripts/LoopSound.gd" id="25_onhah"]
[ext_resource type="AudioStream" uid="uid://cxcaba7koqgv2" path="res://sounds/Music/EnemyMusic.wav" id="26_chugg"]
[ext_resource type="AudioStream" uid="uid://dbtr4w6ph4xuw" path="res://sounds/Music/OutpostMusic.wav" id="27_iuswt"]
[ext_resource type="AudioStream" uid="uid://b66s5rnjg6qjc" path="res://sounds/Music/ShopMusic.wav" id="28_h45dm"]
[ext_resource type="AudioStream" uid="uid://dgl3cdn3cctem" path="res://sounds/Music/DeathMusic.wav" id="29_713a0"]
[ext_resource type="PackedScene" uid="uid://cmfm0bmhtxo1h" path="res://Prefabs/HerdMenu.tscn" id="29_gvm3s"]
[ext_resource type="PackedScene" uid="uid://cuxvl0rlaxfi3" path="res://Prefabs/UICursor.tscn" id="31_7rkun"]
[ext_resource type="AudioStream" uid="uid://dad24pt3ne2w7" path="res://sounds/Music/OpeningMusic.wav" id="32_0n3cj"]
[ext_resource type="Script" path="res://Levels/KillMeInASecond.gd" id="32_y58l0"]
[ext_resource type="Texture2D" uid="uid://dqe54qrwmp5ed" path="res://Assets/Images/EndScreen.png" id="33_gftir"]

[sub_resource type="LabelSettings" id="LabelSettings_b8kx2"]
font = ExtResource("19_u5bqv")
font_size = 24

[sub_resource type="Gradient" id="Gradient_x61s1"]
interpolation_mode = 2
offsets = PackedFloat32Array(0.574257, 1)
colors = PackedColorArray(0, 0, 0, 0, 0.254902, 0.117647, 0.00392157, 0.368627)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_w6p3l"]
gradient = SubResource("Gradient_x61s1")
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(1, 1)

[sub_resource type="LabelSettings" id="LabelSettings_fmcc2"]
line_spacing = 12.0
font = ExtResource("19_u5bqv")
font_size = 52
shadow_size = 30
shadow_color = Color(0, 0, 0.137255, 1)
shadow_offset = Vector2(0, 6)

[sub_resource type="LabelSettings" id="LabelSettings_1txft"]
line_spacing = 12.0
font = ExtResource("18_a0jb1")
font_size = 100
outline_size = 5
shadow_size = 25
shadow_color = Color(0, 0, 0.137255, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_x4scn"]
size = Vector3(32, 0.1, 48)

[node name="Level" type="Node3D"]
script = ExtResource("1_ilocr")

[node name="HealthPulse" parent="." instance=ExtResource("2_y7tso")]

[node name="Broadcast" parent="." instance=ExtResource("1_33qyj")]

[node name="FPS Counter" parent="." instance=ExtResource("2_c6l00")]
offset_bottom = 26.0001

[node name="Cow Counter" parent="." instance=ExtResource("12")]
z_index = 30
offset_left = 79.0
offset_top = 65.0
offset_right = 138.0
offset_bottom = 101.0
text = "0"
label_settings = SubResource("LabelSettings_b8kx2")
horizontal_alignment = 1
vertical_alignment = 1

[node name="TextureRect" type="TextureRect" parent="Cow Counter"]
show_behind_parent = true
layout_mode = 0
offset_left = -98.0
offset_top = -37.0
offset_right = 265.0
offset_bottom = 173.0
scale = Vector2(0.5, 0.5)
texture = ExtResource("6_mmeut")

[node name="Health Counter" parent="." instance=ExtResource("3_8ivn4")]
visible = false
offset_right = 70.0

[node name="GameUI" parent="." instance=ExtResource("12_3pmhn")]
process_mode = 3
z_index = 25
mouse_filter = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("16_leqkn")

[node name="FogVolume" parent="." instance=ExtResource("11_1gwt8")]

[node name="Camera3D" parent="." instance=ExtResource("2")]
transform = Transform3D(0.707107, -0.40558, 0.579228, 0, 0.819152, 0.573577, -0.707107, -0.40558, 0.579228, 22, 22, 22)
current = true
size = 17.0

[node name="Player" parent="." instance=ExtResource("9")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 14.9956, 10, 64.1144)
collision_mask = 33

[node name="DirectionalLight3D" parent="." instance=ExtResource("8_kp882")]

[node name="AllTerrain" type="Node3D" parent="."]
script = ExtResource("4")

[node name="Orange Vignette" type="TextureRect" parent="."]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -640.0
offset_top = -360.0
offset_right = 640.0
offset_bottom = 360.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("GradientTexture2D_w6p3l")

[node name="Fanta Mode" type="ColorRect" parent="."]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 0.478431, 0.0196078, 0.196078)

[node name="PauseMenuUI" parent="." instance=ExtResource("16_6i4tb")]
visible = false
z_index = 100

[node name="ItemWheel" parent="." instance=ExtResource("13_1ubf2")]
visible = false
z_index = 75

[node name="DeathMenu" type="Panel" parent="."]
visible = false
z_index = 100
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("23_5p5jq")

[node name="YouDied" type="TextureRect" parent="DeathMenu"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -438.0
offset_top = 245.0
offset_right = 494.0
offset_bottom = 413.0
grow_horizontal = 2
texture = ExtResource("19_qyj2t")

[node name="Bankrupt" type="TextureRect" parent="DeathMenu"]
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -466.0
offset_top = 245.0
offset_right = 466.0
offset_bottom = 413.0
grow_horizontal = 2
texture = ExtResource("20_1eh4x")

[node name="RestartButton" type="TextureButton" parent="DeathMenu"]
z_index = 101
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -89.0001
offset_top = 493.0
offset_right = 187.0
offset_bottom = 560.0
grow_horizontal = 2
scale = Vector2(0.65, 0.65)
disabled = true
texture_normal = ExtResource("20_r434f")
texture_pressed = ExtResource("21_tsuee")
texture_hover = ExtResource("22_usm5n")

[node name="MainMenuButton" type="TextureButton" parent="DeathMenu"]
z_index = 101
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -90.9999
offset_top = 562.0
offset_right = 182.0
offset_bottom = 627.0
grow_horizontal = 2
scale = Vector2(0.65, 0.65)
disabled = true
texture_normal = ExtResource("23_arub7")
texture_pressed = ExtResource("24_jcypd")
texture_hover = ExtResource("25_cirx0")

[node name="Label" type="Label" parent="DeathMenu"]
visible = false
modulate = Color(0.784314, 0, 0, 1)
z_index = 101
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -228.5
offset_top = 210.0
offset_right = 228.5
offset_bottom = 275.0
grow_horizontal = 2
text = "You're food for the buzzards."
label_settings = SubResource("LabelSettings_fmcc2")
horizontal_alignment = 1
vertical_alignment = 2

[node name="WinMenu" type="Panel" parent="."]
visible = false
z_index = 100
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("24_q0sdl")

[node name="TextureRect" type="TextureRect" parent="WinMenu"]
z_index = 101
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -369.0
offset_top = 100.0
offset_right = 369.0
offset_bottom = 230.0
grow_horizontal = 2
texture = ExtResource("21_0kux6")

[node name="EndScreen" type="Sprite2D" parent="WinMenu"]
position = Vector2(861, 358)
scale = Vector2(0.66794, 0.66794)
texture = ExtResource("33_gftir")

[node name="RestartButton" type="Button" parent="WinMenu"]
process_mode = 3
z_index = 101
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -55.0
offset_top = 335.0
offset_right = 55.0
offset_bottom = 385.0
grow_horizontal = 2
theme_override_fonts/font = ExtResource("19_u5bqv")
theme_override_font_sizes/font_size = 24
disabled = true
text = "Restart"

[node name="MainMenuButton" type="Button" parent="WinMenu"]
process_mode = 3
z_index = 101
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -50.0
offset_top = 400.0
offset_right = 50.0
offset_bottom = 440.0
grow_horizontal = 2
theme_override_fonts/font = ExtResource("19_u5bqv")
theme_override_font_sizes/font_size = 20
disabled = true
text = "Main Menu"

[node name="Label" type="Label" parent="WinMenu"]
visible = false
modulate = Color(0.913725, 0.839216, 0.647059, 1)
z_index = 101
layout_mode = 1
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -158.0
offset_top = 200.0
offset_right = 158.0
offset_bottom = 319.0
grow_horizontal = 2
text = "YOU WIN"
label_settings = SubResource("LabelSettings_1txft")
horizontal_alignment = 1
vertical_alignment = 2

[node name="HerdMenu" parent="." instance=ExtResource("29_gvm3s")]

[node name="ElixirGunMenu" parent="." instance=ExtResource("20_bkmh5")]

[node name="WildsMusic" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("24_eux13")
volume_db = -10.0
script = ExtResource("25_onhah")

[node name="EnemyMusic" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("26_chugg")
volume_db = -10.0
script = ExtResource("25_onhah")

[node name="OutpostMusic" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("27_iuswt")
volume_db = -12.0
script = ExtResource("25_onhah")

[node name="ShopMusic" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("28_h45dm")
volume_db = -12.0
script = ExtResource("25_onhah")

[node name="DeathMusic" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("29_713a0")
volume_db = -8.0
script = ExtResource("25_onhah")

[node name="WinMusic" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("32_0n3cj")
volume_db = -8.0
script = ExtResource("25_onhah")

[node name="Ambience" type="AudioStreamPlayer" parent="."]
stream = ExtResource("25_0aix7")
volume_db = 4.0
autoplay = true
bus = &"Ambience"
script = ExtResource("25_onhah")

[node name="UICursor" parent="." instance=ExtResource("31_7rkun")]
process_mode = 3

[node name="windPlayer" type="AudioStreamPlayer" parent="."]
volume_db = -13.0
bus = &"Ambience"

[node name="StaticBody3D3" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 0, 56)
script = ExtResource("32_y58l0")
time = 20.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D3"]
shape = SubResource("BoxShape3D_x4scn")

[connection signal="pressed" from="DeathMenu/RestartButton" to="DeathMenu" method="_on_restart_button_pressed"]
[connection signal="pressed" from="DeathMenu/MainMenuButton" to="DeathMenu" method="_on_main_menu_button_pressed"]
[connection signal="pressed" from="WinMenu/RestartButton" to="WinMenu" method="_on_restart_button_pressed"]
[connection signal="pressed" from="WinMenu/MainMenuButton" to="WinMenu" method="_on_main_menu_button_pressed"]
[connection signal="finished" from="WildsMusic" to="WildsMusic" method="_on_finished"]
[connection signal="finished" from="EnemyMusic" to="EnemyMusic" method="_on_finished"]
[connection signal="finished" from="OutpostMusic" to="OutpostMusic" method="_on_finished"]
[connection signal="finished" from="ShopMusic" to="ShopMusic" method="_on_finished"]
[connection signal="finished" from="DeathMusic" to="DeathMusic" method="_on_finished"]
[connection signal="finished" from="WinMusic" to="WinMusic" method="_on_finished"]
[connection signal="finished" from="Ambience" to="Ambience" method="_on_finished"]
